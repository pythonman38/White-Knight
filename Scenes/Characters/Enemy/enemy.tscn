[gd_scene load_steps=7 format=3 uid="uid://belp25krgaful"]

[ext_resource type="Script" uid="uid://r1yc2jc7d3c8" path="res://Scripts/Characters/Enemy/enemy.gd" id="1_flmpx"]
[ext_resource type="PackedScene" uid="uid://b400ggo706fli" path="res://Scenes/Characters/rig.tscn" id="2_0pqjn"]
[ext_resource type="PackedScene" uid="uid://c8kt5332g6ce" path="res://Scenes/Characters/health_component.tscn" id="3_73fnk"]
[ext_resource type="PackedScene" uid="uid://dyuwlkesyh1dr" path="res://Scenes/Characters/area_attack.tscn" id="4_joj4s"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_0pqjn"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_73fnk"]

[node name="Enemy" type="CharacterBody3D"]
collision_layer = 9
script = ExtResource("1_flmpx")

[node name="HealthComponent" parent="." instance=ExtResource("3_73fnk")]

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
shape = SubResource("CapsuleShape3D_0pqjn")

[node name="Rig" parent="." instance=ExtResource("2_0pqjn")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -1, 0)

[node name="Skeleton3D" parent="Rig/CharacterRig/GameRig" index="0"]
bones/0/position = Vector3(1.41656e-14, 0.903675, -0.0481735)
bones/2/rotation = Quaternion(0.00242269, -0.000346965, 0.00321312, 0.999992)
bones/3/rotation = Quaternion(-0.092612, -0.000329636, 0.0085225, 0.995666)
bones/4/rotation = Quaternion(0.273582, 1.49658e-08, 9.12405e-08, 0.961849)
bones/6/rotation = Quaternion(-0.160553, -1.17126e-07, -2.24313e-08, 0.987027)
bones/7/position = Vector3(-5.25878e-08, 0.903675, -0.0481735)
bones/8/position = Vector3(-6.00535e-08, 0.903675, -0.0481735)
bones/9/position = Vector3(0.131144, 0.969879, -0.0351291)
bones/9/rotation = Quaternion(0.99362, 0.0205729, -0.0310913, 0.10644)
bones/11/rotation = Quaternion(0.408581, -0.000698727, 0.000312922, 0.912722)
bones/13/rotation = Quaternion(-0.74658, 0.011867, 0.0243824, 0.664743)
bones/15/position = Vector3(-0.131144, 0.96988, -0.0351291)
bones/15/rotation = Quaternion(0.974438, -0.00554614, 0.0274861, 0.222898)
bones/17/rotation = Quaternion(0.433511, 0.00322809, -0.00155309, 0.901141)
bones/19/rotation = Quaternion(-0.683496, -0.0281676, -0.00106916, 0.72941)
bones/21/position = Vector3(0.0251286, 1.43356, 0.0448223)
bones/21/rotation = Quaternion(-0.481639, -0.262798, -0.408569, 0.729406)
bones/22/position = Vector3(0.190048, 1.4715, -0.0168253)
bones/22/rotation = Quaternion(0.0354078, -0.161897, 0.975074, -0.147536)
bones/23/rotation = Quaternion(1.24779e-07, -0.0277229, 3.90475e-08, 0.999616)
bones/24/rotation = Quaternion(0.325853, -0.0277314, -0.0202537, 0.944797)
bones/46/position = Vector3(-0.0113635, 1.43356, 0.0448223)
bones/46/rotation = Quaternion(-0.491178, 0.242622, 0.395077, 0.737423)
bones/47/position = Vector3(-0.172618, 1.47202, -0.0255809)
bones/47/rotation = Quaternion(-0.04318, -0.142321, 0.975158, 0.164158)
bones/48/rotation = Quaternion(1.12984e-08, 0.035331, -5.49572e-08, 0.999376)
bones/49/rotation = Quaternion(0.362736, 0.0353316, 0.0288242, 0.930776)
bones/71/position = Vector3(0.127191, 1.35328, -0.0254035)
bones/71/rotation = Quaternion(1.9815e-08, 0.605654, 0.795728, -4.61386e-08)
bones/72/position = Vector3(-0.113426, 1.35328, -0.0254035)
bones/72/rotation = Quaternion(1.98142e-08, 0.605666, 0.795719, -4.61389e-08)

[node name="Knight_02" parent="Rig/CharacterRig/GameRig/Skeleton3D" index="1"]
visible = false

[node name="Villager_01" parent="Rig/CharacterRig/GameRig/Skeleton3D" index="2"]
visible = true

[node name="RightHandBone" parent="Rig" index="2"]
transform = Transform3D(-0.962343, -0.270804, -0.023712, 0.231543, -0.862266, 0.450429, -0.142424, 0.427976, 0.892497, -0.346435, 0.997536, 0.00076855)

[node name="LeftHandBone" parent="Rig" index="3"]
transform = Transform3D(-0.970513, 0.23911, 0.0305229, -0.21546, -0.917276, 0.334935, 0.108084, 0.318482, 0.941746, 0.346859, 0.982705, -0.0274823)

[node name="PlayerDetector" type="ShapeCast3D" parent="Rig"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0)
shape = SubResource("CapsuleShape3D_73fnk")
target_position = Vector3(0, 0, 1)
collision_mask = 4

[node name="AreaAttack" parent="Rig" instance=ExtResource("4_joj4s")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 1)
collision_mask = 4

[connection signal="defeat" from="HealthComponent" to="." method="_on_health_component_defeat"]
[connection signal="heavy_attack" from="Rig" to="." method="_on_rig_heavy_attack"]

[editable path="Rig"]
[editable path="Rig/CharacterRig"]
